[pytest]

# Serial (regular) run:
# addopts = -v --html=reports/report.html --self-contained-html --alluredir=reports/allure-results

# Parallel (xdist) run:
addopts =
    -ra
    -n auto
    --dist=loadfile
    --strict-markers
    --tb=short
    --alluredir=reports/allure-results
    --junitxml=reports/junit.xml

markers =
    current: current tests 
    # smoke: critical path tests
    # auth: authentication flow (basic, digest)
    # checkbox: checkbox interactions
    # context_menu: right-click context menu
    # digest: digest authentication
    # broken_images: image validation
    # ui: user interface interactions
    # regression: full regression suite
    # flaky: tests that may fail intermittently
    # video_skip: skip video recording for this test
    # slow: tests that take more than 10 seconds

# Main tests folder path:
testpaths = tests

# Project naming patterns:
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Rerun configurations:
reruns = 2
reruns_delay = 1

# Log printing to CLI:
# log_cli = true
# log_cli_level = INFO